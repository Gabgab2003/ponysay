<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This manual is for ponysay
(version 3.0.1).

Copyright (C) 2012, 2013 Mattias AndrÃ©e

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, with no Front-Cover Texts, and with no Back-Cover
Texts. A copy of the license is included in the section entitled
"GNU Free Documentation License". -->
<!-- Created by GNU Texinfo 5.1, http://www.gnu.org/software/texinfo/ -->
<head>
<title>Ponysay: Universal Character Set</title>

<meta name="description" content="Ponysay: Universal Character Set">
<meta name="keywords" content="Ponysay: Universal Character Set">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="Concept-and-program-index.html#Concept-and-program-index" rel="index" title="Concept and program index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Inner-workings.html#Inner-workings" rel="up" title="Inner workings">
<link href="Contributing.html#Contributing" rel="next" title="Contributing">
<link href="Shell-auto_002dcompletion.html#Shell-auto_002dcompletion" rel="previous" title="Shell auto-completion">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.indentedblock {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
div.smalllisp {margin-left: 3.2em}
kbd {font-style:oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nocodebreak {white-space:nowrap}
span.nolinebreak {white-space:nowrap}
span.roman {font-family:serif; font-weight:normal}
span.sansserif {font-family:sans-serif; font-weight:normal}
ul.no-bullet {list-style: none}
-->
</style>


<link rel="stylesheet" type="text/css" href="../../info.css"></head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">
<a name="Universal-Character-Set"></a>
<div class="header">
<p>
Previous: <a href="Shell-auto_002dcompletion.html#Shell-auto_002dcompletion" accesskey="p" rel="previous">Shell auto-completion</a>, Up: <a href="Inner-workings.html#Inner-workings" accesskey="u" rel="up">Inner workings</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-and-program-index.html#Concept-and-program-index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Universal-Character-Set-1"></a>
<h3 class="section">12.9 Universal Character Set</h3>
<a name="index-Universal-Character-Set-1"></a>
<a name="index-UCS-1"></a>
<a name="index-Unicode-1"></a>
<a name="index-pony-names"></a>

<p>In earlier versions of <code>ponysay</code> only the output truncation supported
Universal Character Set, though handcoded UTF-8 character counting. Now
<code>ponysay</code> lets Python decode the data, Python store all 31 bits of a
character in as one character, not in UTF-16 as some other languages does, this
means that the code is agnostic to the character encoding. However in Unicode
6.1 their are four ranges of combining characters, these do not take up any
width in proper terminal, we therefore have a class in the code named <code>UCS</code>
that help us take them into consideration when determine the length of a string.
</p>
<p>Some ponies have names that contain non-ASCII characters, read about it in
<a href="Environment-variables.html#Environment-variables">Environment variables</a>. The UCS names are stored in the file <samp>share/ucsmap</samp>,
in it lines that are not empty and does not start with a hash (<code>#</code>) are
parsed, and contains a UCS name and a ASCII:ised name. The UCS name comes first,
followed by the ASCII:ised name that the UCS name should replace or link towards.
The two names are separated by and simple left to right arrow character [U+2192],
optionally with surrounding white space.
</p>
<p>It is important that the UCS names are stored in a file and not in file names,
because it can cause problems on some platforms.
</p>





</body>
</html>
